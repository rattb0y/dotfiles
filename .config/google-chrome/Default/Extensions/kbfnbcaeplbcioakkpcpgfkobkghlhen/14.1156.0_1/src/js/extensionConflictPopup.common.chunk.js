(self.webpackChunk=self.webpackChunk||[]).push([[3587],{61819:(e,t,n)=>{n.r(t),n.d(t,{ExtensionConflictController:()=>u});var o=n(27378),i=n(85441),s=n(41572),l=n(91831),r=n(44552),c=n(62447),a=n(31714),d=n(75105),f=n(62369),h=n(15505),p=n(49735);const m=({onClose:e})=>o.createElement(d.X,{mainContent:o.createElement("div",{className:p.extensionConflictPopup},o.createElement(h.q,{size:40,level:"warning",fallback:o.createElement("div",{className:p.extensionConflictPopupIcon})}),o.createElement("div",{className:p.extensionConflictPopupTitle},"Another writing extension is interfering with Grammarly"),o.createElement("div",{className:p.extensionConflictPopupDescription},"We suggest removing your other extension to get the best of Grammarly."),o.createElement(f.z,{className:p.extensionConflictPopupCTA,name:"got-it",kind:"success",onClick:e},"Got it")),onClose:e,size:"extra-large",includeMainContentPadding:!1});class u{constructor(e,t){this._doc=e,this._themeConfig=t,this._container=null}show(){var e,t;this._hide(),this._render(),null===(t=null===(e=this._findConflictDialog())||void 0===e?void 0:e.querySelector("button"))||void 0===t||t.addEventListener("click",(()=>this._hide()))}_hide(){this._container&&(this._container.dispose(),this._container=null)}_render(){this._container=l.V.get({monitorAs:"g-extension-conflict"}).inject(r.EM.fromDocument(this._doc,"g-extension-conflict"),r.zs.appendChild(this._doc.documentElement),c.G7.showWhenLoaded(o.createElement("div",{style:{position:"fixed",right:"16px",top:`${this._getCardOffsetTop()}px`,zIndex:99999},"data-grammarly-part":"extension-conflict-notification"},o.createElement(s.L,{chunkName:"extensionConflictPopup"},o.createElement(a.fm,{config:this._themeConfig,experimentClient:(0,i.OB)().experimentClient},o.createElement(m,{onClose:()=>this._hide()}))))))}_findConflictDialog(){const e=Array.from(this._doc.querySelectorAll("editor-card"));for(const t of e){const e=Array.from(t.querySelectorAll("div"));for(const t of e)if(t.shadowRoot){const e=Array.from(t.shadowRoot.querySelectorAll('div[role="alertdialog"]'));for(const t of e)if(t.innerText.toLocaleLowerCase().includes("editor"))return t}}}_getCardOffsetTop(){const e=this._findConflictDialog();return e?32+e.getBoundingClientRect().height:16}}},49735:e=>{e.exports={extensionConflictPopup:"A1ESu",extensionConflictPopupIcon:"cMn66",extensionConflictPopupTitle:"TfZut",extensionConflictPopupDescription:"aqAAW",extensionConflictPopupCTA:"nW030",spin:"SBn75"}}}]);